<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: restful_api/api_miix.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: restful_api/api_miix.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>
exports.init = function() {
    /**
     * RESTful APIs for Miix clientss
     * @namespace miix
     */


    /**
     * Upload/add an user content file of a specific video or image UGC&lt;br>
     * 
     * &lt;h5>Path parameters&lt;/h5>
     * &lt;ul>
     * &lt;li>ugcProjectId: the project ID of the UGC
     * &lt;/ul>
     * 
     * &lt;h5>Query parameters&lt;/h5>
     * None
     * 
     * &lt;h5>Request body&lt;/h5>
     * (to be elaborated later)
     * 
     * &lt;h5>Response body&lt;/h5>
     * 
     * @name POST /miix/ugcs/:ugcProjectId/user_content_files
     * @memberof miix
     */
//    app.post('/miix/videos/user_content_files', routes.authorizationHandler.checkAuth, routes.uploadUserContentFile_cb ); //v1.2
    app.post('/miix/videos/user_content_files', routes.uploadUserContentFile_cb ); //v1.2

    /**
     * Create an user content description of a specific video UGC&lt;br>
     * 
     * &lt;h5>Path parameters&lt;/h5>
     * &lt;ul>
     * &lt;li>ugcProjectId: the project ID of the UGC
     * &lt;/ul>
     * 
     * &lt;h5>Query parameters&lt;/h5>
     * None
     * 
     * &lt;h5>Request body&lt;/h5>
     * (to be elaborated later)
     * 
     * &lt;h5>Response body&lt;/h5>
     * 
     * @name POST /miix/video_ugcs/:ugcProjectId/user_content_descriptions
     * @memberof miix
     */
    app.post('/miix/videos/user_content_description', routes.authorizationHandler.checkAuth, routes.uploadUserDataInfo_cb);  //v1.2

    /**
     * Create an user content description of a specific image UGC&lt;br>
     * 
     * &lt;h5>Path parameters&lt;/h5>
     * &lt;ul>
     * &lt;li>ugcProjectId: the project ID of the UGC
     * &lt;/ul>
     * 
     * &lt;h5>Query parameters&lt;/h5>
     * None
     * 
     * &lt;h5>Request body&lt;/h5>
     * (to be elaborated later)
     * 
     * &lt;h5>Response body&lt;/h5>
     * 
     * @name POST /miix/image_ugcs/:ugcProjectId/user_content_descriptions
     * @memberof miix
     */


    app.get('/miix/videos/new_videos', routes.api.newUGCList); //v1.2 only, to be DEPRECATED after new design of UGC list in v2.0

    /**
     * Create a video UGC of a specific project ID&lt;br>
     * 
     * &lt;h5>Path parameters&lt;/h5>
     * &lt;ul>
     * &lt;li>ugcProjectId: the project ID of the UGC
     * &lt;/ul>
     * 
     * &lt;h5>Query parameters&lt;/h5>
     * None
     * 
     * &lt;h5>Request body&lt;/h5>
     * (to be elaborated later)
     * 
     * &lt;h5>Response body&lt;/h5>
     * 
     * @name PUT /miix/video_ugcs/:ugcProjectId
     * @memberof miix
     */
    app.put('/miix/video_ugcs/:ugcProjectId', routes.authorizationHandler.checkAuth, routes.miixHandler.putVideoUgcs_cb);
    app.post('/miix/video_ugcs/:ugcProjectId', routes.authorizationHandler.checkAuth, routes.miixHandler.putVideoUgcs_cb);//TODO use PUT to do JMeter test

    app.post('/miix/videos/miix_videos', routes.authorizationHandler.checkAuth, routes.api.submitAUGC); //v1.2

    app.post('/miix/videos/videos_on_dooh', routes.api.submitDooh); //v1.2 only.  In v2.0, all UGCs are to be played on a DOOH

    /**
     * Upload a base64 image UGC of a specific project ID. The uploaded image data will be save as a PNG file.&lt;br>
     * &lt;br>
     * The base64 image is often generated by calling toDataURL() of HTML5 Canvas. 
     * It normally needs to do the following process before sending to this API:&lt;br>
     * yourCanvas.toDataURL('image/png').replace('image/octet-stream');
     * 
     * &lt;h5>Path parameters&lt;/h5>
     * &lt;ul>
     * &lt;li>ugcProjectId: the project ID of the UGC
     * &lt;/ul>
     * 
     * &lt;h5>Query parameters&lt;/h5>
     * None
     * 
     * &lt;h5>Request body&lt;/h5>
     * (to be elaborated later)
     * 
     * &lt;h5>Response body&lt;/h5>
     * 
     * @name PUT /miix/base64_image_ugcs/:ugcProjectId
     * @memberof miix
     */
    app.put('/miix/base64_image_ugcs/:ugcProjectId', routes.authorizationHandler.checkAuth, routes.miixHandler.putBase64ImageUgcs_cb); 
    app.post('/miix/base64_image_ugcs/:ugcProjectId', routes.authorizationHandler.checkAuth, routes.miixHandler.putBase64ImageUgcs_cb);//TODO use PUT to do JMeter test 


    /**
     * Get a list of latest UGC highlights, sorted by creating time (the newest at beginning)&lt;br>
     * 
     * &lt;h5>Path parameters&lt;/h5>
     * None
     * 
     * &lt;h5>Query parameters&lt;/h5>
     * &lt;ul>
     * &lt;li>limit: the number of UGC items to return
     * &lt;/ul>
     * 
     * &lt;h5>Request body&lt;/h5>
     * None
     * 
     * &lt;h5>Response body&lt;/h5>
     * 
     * @name GET /miix/ugc_hightlights
     * @memberof miix
     */
    app.get('/miix/ugc_hightlights', routes.authorizationHandler.checkAuth, routes.miixHandler.getUgcHighlights_cb);
    /*
    app.get('/miix/ugc_hightlights', function(req, res){
        var db = require('./db.js');
        
        var ugcModel = db.getDocModel("ugc");
        ugcModel.find({ "rating": "A", $or: [ { "contentGenre":"miix_it" }, { "contentGenre": "check_in"} ] }).sort({"createdOn":-1}).limit(10).exec(function (err, docs) {
            if (!err){
                res.send(docs);
            }
            else {
                res.send(400, {error: err} );
            }
            
        });
        
    });*/

    /**
     * Get a list of latest UGCs of a specific member , sorted by creating time (the newest at beginning)&lt;br>
     * &lt;h5>Path parameters&lt;/h5>
     * &lt;ul>
     * &lt;li>memberId: Member ID (_id of 24 character hex string)
     * &lt;/ul>
     * 
     * &lt;h5>Query parameters&lt;/h5>
     * &lt;ul>
     * &lt;li>limit: the number of UGC items to return
     * &lt;/ul>
     * 
     * &lt;h5>Request body&lt;/h5>
     * None
     * 
     * &lt;h5>Response body&lt;/h5>
     * @name GET /miix/members/:memberId/ugcs
     * @memberof miix
     */
    app.get('/miix/members/:memberId/ugcs', routes.authorizationHandler.checkAuth, routes.miixHandler.getUgcs_cb);

    app.get('/miix/members/:memberId/live_contents', routes.authorizationHandler.checkAuth, routes.miixHandler.getLiveContents_cb);

    /**
     * Get a list of latest live content items (a.k.a. "Miix Story" or "Story MV") of a specific member , sorted by creating time (the newest at beginning)&lt;br>
     * &lt;h5>Path parameters&lt;/h5>
     * &lt;ul>
     * &lt;li>memberId: Member ID (_id of 24 character hex string)
     * &lt;/ul>
     * 
     * &lt;h5>Query parameters&lt;/h5>
     * &lt;ul>
     * &lt;li>limit: the number of UGC items to return
     * &lt;/ul>
     * 
     * &lt;h5>Request body&lt;/h5>
     * None
     * 
     * &lt;h5>Response body&lt;/h5>
     * @name GET /miix/members/:memberId/live_contents
     * @memberof miix
     */
    app.get('/miix/members/:memberId/live_contents', routes.authorizationHandler.checkAuth, routes.miixHandler.getLiveContents_cb);

    /**
     * Create a FB post id UGC of a specific project ID&lt;br>
     * 
     * &lt;h5>Path parameters&lt;/h5>
     * &lt;ul>
     * &lt;li>ugcProjectId: the project ID of the UGC
     * &lt;/ul>
     * 
     * &lt;h5>Query parameters&lt;/h5>
     * None
     * 
     * &lt;h5>Request body&lt;/h5>
     * &lt;ul>
     * &lt;li>fb_postId: the ID of the fb post id
     * &lt;/ul>
     * 
     * &lt;h5>Response body&lt;/h5>
     * 
     * @name PUT /miix/fb_ugcs/:ugcProjectId
     * @memberof miix
     */
    app.put('/miix/fb_ugcs/:ugcProjectId', routes.authorizationHandler.checkAuth, routes.miixHandler.putFbPostIdUgcs_cb); 

    
};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Namespaces</h3><ul><li><a href="miix.html">miix</a></li><li><a href="miix_admin.html">miix_admin</a></li><li><a href="miix_service.html">miix_service</a></li></ul><h3>Mixins</h3><ul><li><a href="miixContentMgr.html">miixContentMgr</a></li><li><a href="scalaMgr.html">scalaMgr</a></li><li><a href="scheduleMgr.html">scheduleMgr</a></li><li><a href="serviceMgr.html">serviceMgr</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0-dev</a> on Fri Sep 06 2013 12:28:15 GMT+0800 (TST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
